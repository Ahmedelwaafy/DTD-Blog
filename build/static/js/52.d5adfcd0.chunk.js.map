{"version":3,"file":"static/js/52.d5adfcd0.chunk.js","mappings":"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","sources":["components/Util-Components/SidebarPosts.jsx","pages/SinglePostPage.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { truncate } from \"lodash\";\r\nimport { collection, getDocs, query, where } from \"firebase/firestore\";\r\nimport { db } from \"../../firebase\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { PostLoader } from \"./Loaders\";\r\n\r\nfunction SidebarPosts({ name, property, value }) {\r\n  const navigate = useNavigate();\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const [trendingPosts, setTrendingPosts] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const getTrendingBlogs = async () => {\r\n      const blogRef = collection(db, \"blogs\");\r\n      const trendQuery = query(blogRef, where(property, \"==\", value));\r\n      const querySnapshot = await getDocs(trendQuery);\r\n      let trendingPosts = [];\r\n      querySnapshot.forEach((doc) => {\r\n        trendingPosts.push({ id: doc.id, ...doc.data() });\r\n      });\r\n\r\n      setTrendingPosts(trendingPosts);\r\n      setLoading(false);\r\n    };\r\n    getTrendingBlogs();\r\n  }, [property, value]);\r\n\r\n  if (loading) {\r\n    return <PostLoader />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"title\">\r\n        <h2>{name?.toUpperCase()}</h2>\r\n        <button\r\n          onClick={() => navigate(`/categories/${name?.replace(\" \", \"_\")}`)}\r\n        >\r\n          See all <img src=\"../assets/right-arrow.svg\" alt=\"right-arrow\" />\r\n        </button>\r\n      </div>\r\n\r\n      {trendingPosts?.slice(0, 4).map((post, index) => (\r\n        <div className=\"sidepost\" key={index}>\r\n          <div className=\"sidepost__img\">\r\n            <img\r\n              onClick={() => navigate(`/posts/${post?.id}`)}\r\n              src={post?.imgUrl}\r\n              alt=\"\"\r\n            />\r\n          </div>\r\n          <div className=\"sidepost__content\">\r\n            <div className=\"sidepost__content--tags\">\r\n              <button onClick={() => navigate(`/tags/${post?.tags}`)}>\r\n                #{post?.tags}\r\n              </button>\r\n              <p>{post?.duration} min read</p>\r\n            </div>\r\n            <h3\r\n              onClick={() => navigate(`/posts/${post?.id}`)}\r\n              className=\"sidepost__content--title\"\r\n            >\r\n              {truncate(post?.title, { length: 40 })}\r\n            </h3>\r\n            <div className=\"sidepost__content--img\">\r\n              <img\r\n                onClick={() =>\r\n                  navigate(`/authors/${post?.author.replace(\" \", \"_\")}`)\r\n                }\r\n                src={\r\n                  post?.authorPhoto ||\r\n                  \"https://xsgames.co/randomusers/avatar.php?g=male\"\r\n                }\r\n                alt=\"author\"\r\n              />\r\n              <div>\r\n                <button\r\n                  onClick={() =>\r\n                    navigate(`/authors/${post?.author.replace(\" \", \"_\")}`)\r\n                  }\r\n                >\r\n                  {post?.author}\r\n                </button>\r\n                <p>Web Developer</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default SidebarPosts;\r\n","import { useNavigate, useParams } from \"react-router-dom\";\r\nimport SidebarPosts from \"../components/Util-Components/SidebarPosts\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { deleteDoc, doc, getDoc } from \"firebase/firestore\";\r\nimport { db } from \"../firebase\";\r\nimport { toast } from \"react-toastify\";\r\nimport { PostLoader } from \"../components/Util-Components/Loaders\";\r\n\r\nfunction SinglePostPage({ user }) {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const [scroll, setScroll] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [post, setPost] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const handleScroll = () => {\r\n      if (window.scrollY > 370) {\r\n        setScroll(true);\r\n      } else setScroll(false);\r\n    };\r\n\r\n    window.addEventListener(\"scroll\", handleScroll);\r\n    return () => window.removeEventListener(\"scroll\", handleScroll);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const getPostDetails = async () => {\r\n      const docRef = doc(db, \"blogs\", id);\r\n      const postData = await getDoc(docRef);\r\n      setPost(postData.data());\r\n    };\r\n    id && getPostDetails();\r\n    \r\n  }, [id]);\r\n\r\n  const handleDelete = async (pid) => {\r\n    if (window.confirm(\"Are you sure wanted to delete that post ?\")) {\r\n      try {\r\n        setLoading(true);\r\n        await deleteDoc(doc(db, \"blogs\", pid));\r\n        toast.success(\"Post deleted successfully\");\r\n        setLoading(false);\r\n        navigate(\"/\", { replace: true });\r\n      } catch (err) {\r\n        toast.error(\r\n          \"An error happened while deleting the post, please try again later!\"\r\n        );\r\n        \r\n      }\r\n    }\r\n  };\r\n  if (loading) {\r\n    return <PostLoader />;\r\n  }\r\n  return (\r\n    <section className=\"container\">\r\n      <div className=\"container__post\">\r\n        <div className=\"container__post--relative\">\r\n          <img src={post?.imgUrl} alt={post?.title} />\r\n          <div className=\"absolute\">\r\n            <div className=\"absolute__first-row\">\r\n              <p>\r\n                Published in{\" \"}\r\n                <span>{post?.timestamp?.toDate().toDateString()}</span>\r\n              </p>\r\n              <div className=\"absolute__first-row--tags\">\r\n                <button onClick={() => navigate(`/tags/${post?.tags}`)}>\r\n                  #{post?.tags}\r\n                </button>\r\n              </div>\r\n            </div>\r\n            <h1 className=\"absolute__title\">{post?.title}</h1>\r\n            <div className=\"absolute__last-row\">\r\n              <div className=\"absolute__last-row--author-image-container\">\r\n                <img\r\n                  src={\r\n                    post?.authorPhoto ||\r\n                    \"https://xsgames.co/randomusers/avatar.php?g=male\"\r\n                  }\r\n                  alt=\"\"\r\n                />\r\n                <div>\r\n                  <h4\r\n                    onClick={() =>\r\n                      navigate(`/authors/${post?.author.replace(\" \", \"_\")}`)\r\n                    }\r\n                  >\r\n                    {post?.author}\r\n                  </h4>\r\n                  <button>Follow</button>\r\n                </div>\r\n              </div>\r\n              <h6>{post?.duration} min read</h6>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"description\">\r\n          <div className=\"buttons\">\r\n            <abbr title=\"Share on facebook\">\r\n              <img src=\"../assets/Facebook3.svg\" alt=\"facebook\" />\r\n            </abbr>\r\n\r\n            <abbr title=\"Share on linkedin\">\r\n              <img src=\"../assets/linkedin.svg\" alt=\"linkedin\" />\r\n            </abbr>\r\n            <abbr title=\"Share on twitter\">\r\n              <img src=\"../assets/twitter.svg\" alt=\"twitter\" />\r\n            </abbr>\r\n          </div>\r\n          <p>{post?.description}</p>\r\n          {user && user?.uid === post?.userId && (\r\n            <div className=\"buttons\">\r\n              <abbr title=\"edit\">\r\n                <img\r\n                  onClick={() => navigate(`/update/${id}`)}\r\n                  src=\"../assets/edit.svg\"\r\n                  alt=\"edit\"\r\n                />\r\n              </abbr>\r\n              <abbr title=\"Delete\">\r\n                <img\r\n                  onClick={() => handleDelete(id)}\r\n                  src=\"../assets/delete.svg\"\r\n                  alt=\"delete\"\r\n                />\r\n              </abbr>\r\n            </div>\r\n          )}\r\n        </div>\r\n        {scroll && (\r\n          <div className=\"sticky\">\r\n            <button>\r\n              <abbr title=\"Like\">\r\n                <img src=\"../assets/heart.svg\" alt=\"heart\" />\r\n              </abbr>\r\n            </button>\r\n            <button>\r\n              <abbr title=\"Comment\">\r\n                <img src=\"../assets/comments.svg\" alt=\"comments\" />\r\n              </abbr>\r\n            </button>\r\n            <button>\r\n              <abbr title=\"Save\">\r\n                <img src=\"../assets/save.svg\" alt=\"save\" />\r\n              </abbr>\r\n            </button>\r\n            <button>\r\n              <abbr title=\"Sponsor\">\r\n                <img src=\"../assets/sponsor.svg\" alt=\"sponsor\" />\r\n              </abbr>\r\n            </button>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"container__aside\">\r\n        {/** Category*/}\r\n        <SidebarPosts\r\n          name={post?.category}\r\n          property={\"category\"}\r\n          value={post?.category}\r\n        />\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default SinglePostPage;\r\n"],"names":["name","property","value","navigate","useNavigate","useState","loading","setLoading","trendingPosts","setTrendingPosts","useEffect","getTrendingBlogs","blogRef","collection","db","trendQuery","query","where","getDocs","querySnapshot","forEach","doc","push","id","data","className","toUpperCase","onClick","replace","src","alt","slice","map","post","index","imgUrl","tags","duration","truncate","title","length","author","authorPhoto","user","useParams","scroll","setScroll","setPost","handleScroll","window","scrollY","addEventListener","removeEventListener","getPostDetails","docRef","getDoc","postData","handleDelete","pid","confirm","deleteDoc","toast","timestamp","toDate","toDateString","description","uid","userId","category"],"sourceRoot":""}