"use strict";(self.webpackChunkdtd_blog=self.webpackChunkdtd_blog||[]).push([[52],{374:function(e,s,t){var n=t(4165),i=t(1413),r=t(5861),o=t(9439),l=t(2791),a=t(763),c=t(7799),d=t(673),u=t(7689),v=t(2756),h=t(184);s.Z=function(e){var s=e.name,t=e.property,x=e.value,j=(0,u.s0)(),m=(0,l.useState)(!0),p=(0,o.Z)(m,2),g=p[0],f=p[1],b=(0,l.useState)([]),_=(0,o.Z)(b,2),w=_[0],k=_[1];return(0,l.useEffect)((function(){var e=function(){var e=(0,r.Z)((0,n.Z)().mark((function e(){var s,r,o,l;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=(0,c.hJ)(d.db,"blogs"),r=(0,c.IO)(s,(0,c.ar)(t,"==",x)),e.next=4,(0,c.PL)(r);case 4:o=e.sent,l=[],o.forEach((function(e){l.push((0,i.Z)({id:e.id},e.data()))})),k(l),f(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[t,x]),g?(0,h.jsx)(v.ti,{}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:"title",children:[(0,h.jsx)("h2",{children:null===s||void 0===s?void 0:s.toUpperCase()}),(0,h.jsxs)("button",{onClick:function(){return j("/categories/".concat(null===s||void 0===s?void 0:s.replace(" ","_")))},children:["See all ",(0,h.jsx)("img",{src:"../assets/right-arrow.svg",alt:"right-arrow"})]})]}),null===w||void 0===w?void 0:w.slice(0,4).map((function(e,s){return(0,h.jsxs)("div",{className:"sidepost",children:[(0,h.jsx)("div",{className:"sidepost__img",children:(0,h.jsx)("img",{onClick:function(){return j("/posts/".concat(null===e||void 0===e?void 0:e.id))},src:null===e||void 0===e?void 0:e.imgUrl,alt:""})}),(0,h.jsxs)("div",{className:"sidepost__content",children:[(0,h.jsxs)("div",{className:"sidepost__content--tags",children:[(0,h.jsxs)("button",{onClick:function(){return j("/tags/".concat(null===e||void 0===e?void 0:e.tags))},children:["#",null===e||void 0===e?void 0:e.tags]}),(0,h.jsxs)("p",{children:[null===e||void 0===e?void 0:e.duration," min read"]})]}),(0,h.jsx)("h3",{onClick:function(){return j("/posts/".concat(null===e||void 0===e?void 0:e.id))},className:"sidepost__content--title",children:(0,a.truncate)(null===e||void 0===e?void 0:e.title,{length:40})}),(0,h.jsxs)("div",{className:"sidepost__content--img",children:[(0,h.jsx)("img",{onClick:function(){return j("/authors/".concat(null===e||void 0===e?void 0:e.author.replace(" ","_")))},src:(null===e||void 0===e?void 0:e.authorPhoto)||"https://xsgames.co/randomusers/avatar.php?g=male",alt:"author"}),(0,h.jsxs)("div",{children:[(0,h.jsx)("button",{onClick:function(){return j("/authors/".concat(null===e||void 0===e?void 0:e.author.replace(" ","_")))},children:null===e||void 0===e?void 0:e.author}),(0,h.jsx)("p",{children:"Web Developer"})]})]})]})]},s)}))]})}},3052:function(e,s,t){t.r(s);var n=t(4165),i=t(5861),r=t(9439),o=t(7689),l=t(374),a=t(2791),c=t(7799),d=t(673),u=t(9085),v=t(2756),h=t(184);s.default=function(e){var s,t=e.user,x=(0,o.UO)().id,j=(0,o.s0)(),m=(0,a.useState)(!1),p=(0,r.Z)(m,2),g=p[0],f=p[1],b=(0,a.useState)(!1),_=(0,r.Z)(b,2),w=_[0],k=_[1],N=(0,a.useState)(null),Z=(0,r.Z)(N,2),C=Z[0],y=Z[1];(0,a.useEffect)((function(){var e=function(){window.scrollY>370?f(!0):f(!1)};return window.addEventListener("scroll",e),function(){return window.removeEventListener("scroll",e)}}),[]),(0,a.useEffect)((function(){var e=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(){var s,t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=(0,c.JU)(d.db,"blogs",x),e.next=3,(0,c.QT)(s);case 3:t=e.sent,y(t.data());case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();x&&e()}),[x]);var S=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(s){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure wanted to delete that post ?")){e.next=13;break}return e.prev=1,k(!0),e.next=5,(0,c.oe)((0,c.JU)(d.db,"blogs",s));case 5:u.Am.success("Post deleted successfully"),k(!1),j("/",{replace:!0}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),u.Am.error("An error happened while deleting the post, please try again later!");case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(s){return e.apply(this,arguments)}}();return w?(0,h.jsx)(v.ti,{}):(0,h.jsxs)("section",{className:"container",children:[(0,h.jsxs)("div",{className:"container__post",children:[(0,h.jsxs)("div",{className:"container__post--relative",children:[(0,h.jsx)("img",{src:null===C||void 0===C?void 0:C.imgUrl,alt:null===C||void 0===C?void 0:C.title}),(0,h.jsxs)("div",{className:"absolute",children:[(0,h.jsxs)("div",{className:"absolute__first-row",children:[(0,h.jsxs)("p",{children:["Published in"," ",(0,h.jsx)("span",{children:null===C||void 0===C||null===(s=C.timestamp)||void 0===s?void 0:s.toDate().toDateString()})]}),(0,h.jsx)("div",{className:"absolute__first-row--tags",children:(0,h.jsxs)("button",{onClick:function(){return j("/tags/".concat(null===C||void 0===C?void 0:C.tags))},children:["#",null===C||void 0===C?void 0:C.tags]})})]}),(0,h.jsx)("h1",{className:"absolute__title",children:null===C||void 0===C?void 0:C.title}),(0,h.jsxs)("div",{className:"absolute__last-row",children:[(0,h.jsxs)("div",{className:"absolute__last-row--author-image-container",children:[(0,h.jsx)("img",{src:(null===C||void 0===C?void 0:C.authorPhoto)||"https://xsgames.co/randomusers/avatar.php?g=male",alt:""}),(0,h.jsxs)("div",{children:[(0,h.jsx)("h4",{onClick:function(){return j("/authors/".concat(null===C||void 0===C?void 0:C.author.replace(" ","_")))},children:null===C||void 0===C?void 0:C.author}),(0,h.jsx)("button",{children:"Follow"})]})]}),(0,h.jsxs)("h6",{children:[null===C||void 0===C?void 0:C.duration," min read"]})]})]})]}),(0,h.jsxs)("div",{className:"description",children:[(0,h.jsxs)("div",{className:"buttons",children:[(0,h.jsx)("abbr",{title:"Share on facebook",children:(0,h.jsx)("img",{src:"../assets/Facebook3.svg",alt:"facebook"})}),(0,h.jsx)("abbr",{title:"Share on linkedin",children:(0,h.jsx)("img",{src:"../assets/linkedin.svg",alt:"linkedin"})}),(0,h.jsx)("abbr",{title:"Share on twitter",children:(0,h.jsx)("img",{src:"../assets/twitter.svg",alt:"twitter"})})]}),(0,h.jsx)("p",{children:null===C||void 0===C?void 0:C.description}),t&&(null===t||void 0===t?void 0:t.uid)===(null===C||void 0===C?void 0:C.userId)&&(0,h.jsxs)("div",{className:"buttons",children:[(0,h.jsx)("abbr",{title:"edit",children:(0,h.jsx)("img",{onClick:function(){return j("/update/".concat(x))},src:"../assets/edit.svg",alt:"edit"})}),(0,h.jsx)("abbr",{title:"Delete",children:(0,h.jsx)("img",{onClick:function(){return S(x)},src:"../assets/delete.svg",alt:"delete"})})]})]}),g&&(0,h.jsxs)("div",{className:"sticky",children:[(0,h.jsx)("button",{children:(0,h.jsx)("abbr",{title:"Like",children:(0,h.jsx)("img",{src:"../assets/heart.svg",alt:"heart"})})}),(0,h.jsx)("button",{children:(0,h.jsx)("abbr",{title:"Comment",children:(0,h.jsx)("img",{src:"../assets/comments.svg",alt:"comments"})})}),(0,h.jsx)("button",{children:(0,h.jsx)("abbr",{title:"Save",children:(0,h.jsx)("img",{src:"../assets/save.svg",alt:"save"})})}),(0,h.jsx)("button",{children:(0,h.jsx)("abbr",{title:"Sponsor",children:(0,h.jsx)("img",{src:"../assets/sponsor.svg",alt:"sponsor"})})})]})]}),(0,h.jsx)("div",{className:"container__aside",children:(0,h.jsx)(l.Z,{name:null===C||void 0===C?void 0:C.category,property:"category",value:null===C||void 0===C?void 0:C.category})})]})}}}]);
//# sourceMappingURL=52.d5adfcd0.chunk.js.map